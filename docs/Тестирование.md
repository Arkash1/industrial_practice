# Тестирование QR Code Generator
Тест-кейсы модульного тестирования экранов приложения

## 1. `MainActivity` (Главный экран контейнера)

| ID  | Цель теста                     | Действие                             | Ожидаемый результат |
|-----|--------------------------------|--------------------------------------|-------------------|
| 1   | Запуск приложения              | Открыть приложение                   | Отображается HomeFragment и нижняя панель навигации |
| 2   | Навигация в Сканер             | Нажать на иконку "Сканер" в BottomNav| Переключение на ScannerFragment |
| 3   | Навигация в Историю            | Нажать на иконку "История" в BottomNav| Переключение на HistoryFragment |
| 4   | Возврат на Главную             | Нажать на иконку "Создать"           | Возврат на HomeFragment |

## 2. `HomeFragment` (Выбор типа кода)

| ID  | Цель теста                        | Действие                          | Ожидаемый результат |
|-----|----------------------------------|-----------------------------------|-------------------|
| 1   | Отображение типов кодов           | Открыть экран                      | Отображается сетка с иконками (URL, Wi-Fi, Текст и др.) |
| 2   | Выбор типа Wi-Fi                  | Нажать на карточку "Wi-Fi"         | Открывается CreateQrFragment с полями для Wi-Fi |
| 3   | Выбор типа URL                    | Нажать на карточку "Ссылка"        | Открывается CreateQrFragment с полем для ссылки |

## 3. `CreateQrFragment` (Ввод данных и генерация)

| ID  | Цель теста                        | Действие                          | Ожидаемый результат |
|-----|----------------------------------|-----------------------------------|-------------------|
| 1   | Генерация с валидными данными     | Ввести текст и нажать btnGenerate | Происходит переход на ResultFragment |
| 2   | Проверка пустых полей             | Нажать btnGenerate без ввода      | Появляется Toast "Заполните обязательные поля" |
| 3   | Настройка цвета                   | Нажать на пипетку цвета фона      | Открывается диалог выбора цвета, превью обновляется |
| 4   | Ввод слишком длинного текста      | Вставить текст > 4000 символов    | Появляется ошибка валидации "Текст слишком длинный" |

## 4. `ResultFragment` (Результат генерации)

| ID  | Цель теста                     | Действие                           | Ожидаемый результат |
|-----|--------------------------------|------------------------------------|-------------------|
| 1   | Отображение QR-кода            | Открыть экран после генерации      | По центру отображается Bitmap с кодом |
| 2   | Добавление в избранное         | Нажать на иконку "Звезда"          | Иконка закрашивается, Toast "Добавлено в избранное" |
| 3   | Сохранение в галерею           | Нажать btnSave                     | Запрос разрешения (если нет), Toast "Сохранено в Галерею" |
| 4   | Поделиться изображением        | Нажать btnShare                    | Открывается системное меню "Поделиться" |

## 5. `ScannerFragment` (Сканирование камерой)

| ID  | Цель теста                     | Действие                           | Ожидаемый результат |
|-----|--------------------------------|------------------------------------|-------------------|
| 1   | Запрос разрешений               | Открыть экран впервые               | Появляется системный диалог запроса доступа к камере |
| 2   | Отказ в разрешении              | Отклонить доступ                    | Появляется сообщение "Для работы сканера нужна камера" |
| 3   | Успешное сканирование           | Навести камеру на QR-код            | Код распознается, открывается ResultFragment с содержимым |
| 4   | Включение фонарика              | Нажать btnFlash                     | Включается подсветка камеры |

## 6. `HistoryFragment` (История операций)

| ID  | Цель теста                     | Действие                           | Ожидаемый результат |
|-----|--------------------------------|------------------------------------|-------------------|
| 1   | Отображение списка              | Открыть экран                       | В RecyclerView отображаются последние коды |
| 2   | Фильтрация "Избранное"          | Нажать Chip "Избранное"             | В списке остаются только отмеченные звездой записи |
| 3   | Удаление записи                 | Свайпнуть элемент влево             | Элемент удаляется из списка и БД, появляется SnackBar "Удалено" |
| 4   | Открытие деталей                | Нажать на элемент списка            | Открывается ResultFragment с данными записи |

## Управляющий граф программы
<img width="568" height="376" alt="Control Flow Graph" src="https://github.com/Arkash1/industrial_practice/blob/master/docs/di.png" />

## Пояснение к графу
1. Запуск приложения  
2. MainActivity (Навигация)  
3. HomeFragment (Выбор типа)  
4. CreateQrFragment (Ввод данных)  
5. ResultFragment (Просмотр и сохранение)  
6. ScannerFragment (Камера)  
7. HistoryFragment (Список записей)  
8. Закрытие приложения  

---

## Основные тестовые пути
**T1 (Генерация):** 1 → 2 → 3 → 4 → 5 → 3 → 8  
**T2 (Сканирование):** 1 → 2 → 6 → 5 → 6 → 8  
**T3 (История):** 1 → 2 → 7 → 5 → 7 → 8  

---

Тест-кейсы интеграционного тестирования экранов приложения

## Тест-кейсы интеграционного тестирования по тестовым путям

| ID  | Цель теста                         | Действие                                                                                  | Ожидаемый результат |
|-----|------------------------------------|-------------------------------------------------------------------------------------------|-------------------|
| 1  | Проверка полного цикла генерации Wi-Fi кода | На HomeFragment выбрать Wi-Fi, ввести SSID/Пароль, нажать "Сгенерировать", на экране Result нажать "Сохранить", вернуться на главную | Код сгенерирован, файл сохранен в память, запись появилась в БД, пользователь вернулся в начало |
| 2  | Проверка сканирования и автосохранения | Переключиться на Сканер, навести на реальный код, дождаться распознавания, убедиться, что открылся результат, перейти в Историю | Код успешно считан, показан результат, запись автоматически появилась в HistoryFragment |
| 3  | Проверка работы с историей и избранным | Открыть Историю, найти запись, открыть детали, нажать "В избранное", вернуться назад, включить фильтр "Избранное" | Статус записи в БД обновлен, при фильтрации запись отображается, UI корректно обновляется |
| 4  | Проверка обработки ошибок ввода | На HomeFragment выбрать URL, нажать "Сгенерировать" с пустым полем, затем ввести корректный URL и сгенерировать | Сначала показана ошибка валидации, после исправления переход на ResultFragment успешен |
